{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Container/Container.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Error/Error.module.css","Components/Container/Container.js","Components/Searchbar/Searchbar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Error/Error.js","Api/Api.js","Components/ImageFinder.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","style","container","prototype","PropTypes","node","isRequired","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImage","onClickImage","onClick","src","alt","ImageGalleryItem_image","ImageGallery","images","map","largeImageURL","id","Button","button","Loader","loader","color","height","width","modalRef","document","querySelector","Modal","handleKeyDown","onClose","code","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","modal","Error","text","error","KEY","axios","defaults","baseURL","fetchImg","currentPage","searchQuery","fetchString","get","then","response","data","catch","console","ImageFinder","totalHits","isLoading","message","handleChangeQuery","showModal","handleClickButton","fetchApi","handleClickImage","imageItem","closeModal","prevState","prevProps","snapshot","scrollTo","top","documentElement","scrollHeight","behavior","length","options","hits","finally","showButton","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a45c053.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1xEXU\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__zZ4xN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2de4r\",\"Modal\":\"Modal_Modal__38h20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2OSfe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3FYVv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__KbpWi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2pBtv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__3ByCK\"};","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Container.module.css'\r\n\r\nconst Container = ({ children}) => (\r\n    <div className={style.container}>{children}</div>\r\n);\r\n\r\nContainer.prototype = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container","import React, {Component} from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Searchbar.module.css'\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: '',\r\n    };\r\n\r\n    handleChange = event => {\r\n        this.setState({ query: event.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        const { query } = this.state;\r\n        if (!query) return;\r\n\r\n        this.props.onSubmit(query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={style.Searchbar}>\r\n                <form className={style.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={style.SearchForm_button}>\r\n                        <span className={style.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={style.SearchForm_input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.query}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImage, onClickImage }) => (\r\n    <li\r\n        className={style.ImageGalleryItem}\r\n        onClick={() => onClickImage(largeImage)}\r\n    >\r\n        <img src={webformatURL} alt=\"\" className={style.ImageGalleryItem_image} />\r\n    </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImage: PropTypes.string.isRequired,\r\n    onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './ImageGallery.module.css'\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => (\r\n    <ul className={style.ImageGallery}>\r\n        {images.map(({ webformatURL, largeImageURL, id }) => (\r\n            <ImageGalleryItem\r\n                key={id}\r\n                webformatURL={webformatURL}\r\n                onClickImage={onClickImage}\r\n                largeImage={largeImageURL}\r\n            />\r\n        ))}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })).isRequired,\r\n    onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Button.module.css'\r\n\r\nconst Button = ({ onClick}) => (\r\n    <button type=\"button\" className={style.button} onClick={onClick}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import React from \"react\";\r\nimport LoaderMarkup from 'react-loader-spinner';\r\nimport style from './Loader.module.css'\r\n\r\nconst Loader =() => (\r\n    <div className={style.loader}>\r\n        <LoaderMarkup type=\"Puff\" color=\"#303f9f\" height={80} width={80} />\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React, {Component} from \"react\";\r\nimport {createPortal} from \"react-dom\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Modal.module.css'\r\n\r\nconst modalRef = document.querySelector('#modal');\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        const { onClose } = this.props;\r\n        if (event.code === 'Escape') {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    handleOverlayClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { largeImage } = this.props;\r\n        return createPortal(\r\n            <div className={style.Overlay} onClick={this.handleOverlayClick}>\r\n                <div className={style.modal}>\r\n                    <img src={largeImage} alt=\"\" />\r\n                </div>\r\n            </div>,\r\n            modalRef,\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    largeImage: PropTypes.string.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Error.module.css'\r\n\r\nconst Error = ({ text }) => <h2 className={style.error}>{text}</h2>;\r\n\r\nError.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Error;","import axios from 'axios'\r\n\r\nconst PAGE = 12;\r\nconst KEY = '21940379-165654ee27b0a15257d8ffa36';\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api/?key=${KEY}&per_page=12`;\r\n\r\nconst fetchImg = ({ currentPage, searchQuery}) => {\r\n    const fetchString = `https://pixabay.com/api/?key=${KEY}&per_page=${PAGE}&q=${searchQuery}&page=${currentPage}`;\r\n    return axios\r\n        .get(fetchString)\r\n        .then(response => response.data)\r\n        .catch(console.error);\r\n};\r\n\r\nexport default fetchImg;","import React, {Component} from \"react\";\r\nimport Container from \"./Container/Container\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport Error from \"./Error/Error\";\r\n\r\nimport fetchImg from \"../Api/Api\";\r\n\r\nconst PAGESIZE = 12;\r\n\r\nclass ImageFinder extends Component {\r\n    state = {\r\n        images: [],\r\n        totalHits: 0,\r\n        searchQuery: '',\r\n        currentPage: 1,\r\n        error: null,\r\n        isLoading: false,\r\n        largeImage: '',\r\n        message: '',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState.searchQuery !== this.state.searchQuery) {\r\n            this.fetchApi();\r\n        }\r\n        if (snapshot && this.state.currentPage > 2) {\r\n            window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    }\r\n\r\n    getSnapshotBeforeUpdate(prevProps, prevState) {\r\n        return prevState.images.length < this.state.images.length;\r\n\r\n    }\r\n\r\n    handleChangeQuery = query => {\r\n\r\n        this.setState({\r\n            searchQuery: query,\r\n            images: [],\r\n            totalHits: 0,\r\n            currentPage: 1,\r\n            error: null,\r\n            isLoading: false,\r\n            showModal: false,\r\n        });\r\n    };\r\n\r\n\r\n    handleClickButton = () => {\r\n        this.fetchApi();\r\n    };\r\n\r\n    handleClickImage = imageItem => {\r\n        this.setState({\r\n            showModal: true,\r\n            largeImage: imageItem,\r\n        });\r\n    };\r\n\r\n    closeModal = () => {\r\n        this.setState(prevState => ({\r\n            largeImage: '',\r\n            showModal: !prevState.showModal,\r\n        }));\r\n    };\r\n\r\n    fetchApi() {\r\n        const {currentPage, searchQuery} = this.state;\r\n        const options = {currentPage, searchQuery};\r\n        this.setState({isLoading: true});\r\n\r\n        fetchImg(options)\r\n            .then(({hits, totalHits}) => {\r\n                this.setState({totalHits: totalHits});\r\n                this.setState(prevState => ({\r\n                    images: [...prevState.images, ...hits],\r\n                    currentPage: prevState.currentPage + 1,\r\n                }));\r\n            })\r\n            .catch(error => this.setState({error}))\r\n            .finally(() => this.setState({isLoading: false}));\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            images,\r\n            isLoading,\r\n            totalHits,\r\n            error,\r\n            showModal,\r\n            largeImage,\r\n            searchQuery,\r\n        } = this.state;\r\n        const showButton = totalHits > PAGESIZE;\r\n\r\n        return (\r\n            <Container>\r\n                <Searchbar onSubmit={this.handleChangeQuery}/>\r\n                {(error && (\r\n                    <Error\r\n                        text={'Smth went wrong, try again'}\r\n                    />\r\n                )) ||\r\n                (totalHits === 0 && searchQuery && !isLoading && (\r\n                    <Error\r\n                        text={'False, please try again'}\r\n                    />\r\n                ))}\r\n\r\n                <ImageGallery\r\n                    images={images}\r\n                    onClickImage={this.handleClickImage}\r\n                />\r\n                {isLoading && <Loader/>}\r\n                {showButton && <Button onClick={this.handleClickButton}/>}\r\n                {showModal && (\r\n                    <Modal onClose={this.closeModal} largeImage={largeImage}/>\r\n                )}\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageFinder;\r\n\r\n","import React from \"react\";\nimport './App.css';\nimport ImageFinder from \"./Components/ImageFinder\";\n\nconst App = () => {\n  return <ImageFinder />\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3GE0f\",\"SearchForm_button\":\"Searchbar_SearchForm_button__12kMl\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2nhla\",\"SearchForm\":\"Searchbar_SearchForm__1cRMC\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2rrKn\"};"],"sourceRoot":""}